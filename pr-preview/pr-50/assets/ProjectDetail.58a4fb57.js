import{a as o,b as I,o as c,e as u,f as t,x as P,m as S,g as b,F as B,A as T,y as q,z as R,q as V,t as F}from"./@vue.1f0a3c9a.js";import{u as $,b as z}from"./vendor.4ad96017.js";import{S as A,P as O}from"./ProjectCard.b5e1584d.js";import{_ as G}from"./index.8f9ef17a.js";import"./echarts.4de0c91d.js";import"./zrender.80041eb6.js";const w=n=>(V("data-v-c3f0281f"),n=n(),F(),n),H=w(()=>t("i",{class:"fa fa-chevron-left","aria-hidden":"true"},null,-1)),J=[H],K=w(()=>t("i",{class:"fa fa-times"},null,-1)),M=[K],Q={class:"search-box"},U={class:"projects-list"},W={class:"fa fa-x"},X={__name:"ProjectDetail",setup(n){const v=$(),l=z(),i=o([]),d=o(!1),D=e=>{e.length>0?(i.value=Object.fromEntries(e),d.value=!1):(i.value=[],d.value=!0)},s=o(!1),p=()=>{s.value=!s.value},f=o(null),_=(...e)=>{e.length==1&&v.push(`/projects/detail/project?main=${e.toString()}`),e.length==2&&v.push(`/projects/detail/compare?main=${e.join("&sub=")}`),setTimeout(()=>{f.value=e.toString()})},m=o(null),a=o(null),C=(e,x)=>{e.dataTransfer.setDragImage(e.target.childNodes[0].childNodes[0],150,80),m.value=x,a.value.addEventListener("dragenter",h),a.value.addEventListener("dragover",g),a.value.addEventListener("dragleave",j),a.value.addEventListener("drop",E)},N=()=>{a.value.removeEventListener("dragenter",h),a.value.removeEventListener("dragover",g),a.value.removeEventListener("dragleave",j),a.value.removeEventListener("drop",E)},h=e=>{e.dataTransfer.dropEffect="move"},g=e=>{e.preventDefault()},j=e=>{e.dataTransfer.dropEffect="none"},E=()=>{const e=m.value;l.query.main!=e&&l.query.sub!=e&&_(l.query.main,e)};return(e,x)=>{const k=I("RouterView");return c(),u("main",null,[t("div",{class:S(["graphic-box",{isFolded:s.value}])},[t("div",{class:"graphic",ref_key:"canvas",ref:a},[(c(),P(k,{isExpand:!s.value,key:f.value},null,8,["isExpand"]))],512)],2),t("div",{class:S(["right-nav",s.value?"right-nav-active":"right-nav-hidden"])},[t("button",{class:"nav-switch-open",onClick:p},J),t("button",{class:"nav-switch-close",onClick:p},M),t("div",Q,[b(A,{onSearch:D})]),t("ul",U,[(c(!0),u(B,null,T(i.value,(y,r)=>(c(),u("div",{key:r},[b(O,{onClick:L=>_(r),onDragstart:L=>C(L,r),onDragend:N,name:r,project_info:y},null,8,["onClick","onDragstart","name","project_info"])]))),128)),q(t("i",W,"No result found",512),[[R,d.value]])])],2)])}}},se=G(X,[["__scopeId","data-v-c3f0281f"]]);export{se as default};
