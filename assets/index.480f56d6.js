import{b as A,o as k,e as R,f as _,g as y,j as x,k as I,F as q,l as B,a as L,m as O,q as T,t as N,v as P}from"./@vue.1f0a3c9a.js";import{u as H,c as V,a as U}from"./vendor.4ad96017.js";import{i as j}from"./echarts.4de0c91d.js";import"./zrender.80041eb6.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function o(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerpolicy&&(n.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?n.credentials="include":e.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(e){if(e.ep)return;e.ep=!0;const n=o(e);fetch(e.href,n)}})();const E=(r,t)=>{const o=r.__vccOpts||r;for(const[s,e]of t)o[s]=e;return o},D={},Q={class:"header-bar"},$={class:"header-nav"},M=I("global"),G=I("projects");function C(r,t){const o=A("RouterLink");return k(),R("header",Q,[_("nav",$,[y(o,{class:"header-link",to:"/"},{default:x(()=>[M]),_:1}),y(o,{class:"header-link",to:"/projects"},{default:x(()=>[G]),_:1})])])}const X=E(D,[["render",C],["__scopeId","data-v-3f84875e"]]);const F={__name:"App",setup(r){return(t,o)=>{const s=A("RouterView");return k(),R(q,null,[y(X),y(s,{class:"main-box"})],64)}}},J=E(F,[["__scopeId","data-v-f3729390"]]),z="modulepreload",W=function(r,t){return new URL(r,t).href},S={},p=function(t,o,s){return!o||o.length===0?t():Promise.all(o.map(e=>{if(e=W(e,s),e in S)return;S[e]=!0;const n=e.endsWith(".css"),i=n?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${i}`))return;const a=document.createElement("link");if(a.rel=n?"stylesheet":z,n||(a.as="script",a.crossOrigin=""),a.href=e,document.head.appendChild(a),n)return new Promise((f,v)=>{a.addEventListener("load",f),a.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${e}`)))})})).then(()=>t())};function Z(r,t,o){t!=null&&t!=""&&t!=null&&t.dispose(),t=j(r);const s={title:{text:"Project Activity Rank",left:"center"},tooltip:{trigger:"item",formatter:"{b} : {c} ({d}%)"},legend:{bottom:10,left:"center",data:["Super Healthy","Healthy","Mostly Okay","Unhealthy","Action required","URGENT ACTION REQUIRED"]},series:[{type:"pie",radius:"65%",center:["50%","50%"],selectedMode:"single",data:[{value:o.filter(e=>e.rank=="Super Healthy").length,name:"Super Healthy",itemStyle:{color:"#62bddd"}},{value:o.filter(e=>e.rank=="Healthy").length,name:"Healthy",itemStyle:{color:"#27717a"}},{value:o.filter(e=>e.rank=="Mostly Okay").length,name:"Mostly Okay",itemStyle:{color:"#9ac961"}},{value:o.filter(e=>e.rank=="Unhealthy").length,name:"Unhealthy",itemStyle:{color:"#f6d762"}},{value:o.filter(e=>e.rank=="Action required").length,name:"Action required",itemStyle:{color:"#f2a33a"}},{value:o.filter(e=>e.rank=="URGENT ACTION REQUIRED").length,name:"URGENT ACTION REQUIRED",itemStyle:{color:"#d54e4a"}}],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}},select:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"},label:{fontSize:24}}}]};return s&&t.setOption(s),t}function K(r,t,o,s,e){const n=o.filter(a=>a.rank==s);t!=null&&t!=""&&t!=null&&t.dispose(),t=j(r);var i;return i={tooltip:{show:!0},title:{text:s},xAxis:{type:"value",splitLine:!1,axisLabel:{show:!1}},yAxis:{type:"category",triggerEvent:!0,data:n.map(a=>a.name)},dataZoom:n.length>40?{id:"dataZoomY",type:"slider",yAxisIndex:[0],filterMode:"empty",end:3e3/n.length}:null,series:[{data:n.map(a=>a.score),type:"bar",showBackground:!0,label:{show:!0},itemStyle:{color:e},backgroundStyle:{color:"rgba(180, 180, 180, 0.2)"}}]},i&&t.setOption(i),t}const Y=r=>(T("data-v-ce21347a"),r=r(),N(),r),ee={class:"graphic"},te=Y(()=>_("div",{class:"RanckBar",id:"RanckBar"},null,-1)),oe=[te],ne={__name:"GlobalView",setup(r){const t=H();let o=null;const s=function(l){const u=document.getElementById("QiChart");u.removeAttribute("_echarts_instance_"),o=Z(u,o,l),o.on("click",c=>{const d=c.event.target.selected,h=c.name;g.value=d,d&&n(l,h,c.color)})};let e=null;const n=function(l,u,c){const d=document.getElementById("RanckBar");d.removeAttribute("_echarts_instance_"),e=K(d,e,l,u,c),e.on("click",h=>{const w=h.name||h.value;w&&t.push(`/projects/detail/project?main=${w}`)})},i=function(l){let u=[];for(let c in l){const d=l[c].description.split(": ")[1].replace("!","");u.push({name:c,score:l[c]["Health score"],rank:d})}return u};let a=null,f=[];const v=function(){const l=new XMLHttpRequest;l.open("get","@/../Qi/qi.json"),l.send(null),l.onload=()=>{l.status==200&&(a=JSON.parse(l.responseText),f=i(a),s(f))}};B(()=>{v()});const g=L(!1);return(l,u)=>(k(),R("main",null,[_("div",ee,[_("div",{class:O(["Qi-box",{"left-chart":g.value}]),id:"QiChart"},null,2),_("div",{class:O(["project-box",{"right-chart":g.value}])},oe,2)])]))}},re=E(ne,[["__scopeId","data-v-ce21347a"]]),se=V({history:U("./"),routes:[{path:"/",name:"global",component:re},{path:"/projects",name:"projects",component:()=>p(()=>import("./ProjectsView.b6996c58.js"),["ProjectsView.b6996c58.js","ProjectsView.e3b0c442.css","@vue.1f0a3c9a.js","vendor.4ad96017.js","echarts.4de0c91d.js","zrender.80041eb6.js"],import.meta.url),children:[{path:"",name:"search",component:()=>p(()=>import("./SearchView.605c5d51.js"),["SearchView.605c5d51.js","SearchView.c25d7152.css","@vue.1f0a3c9a.js","ProjectCard.29b5e3a6.js","ProjectCard.d3fb5a10.css","vendor.4ad96017.js","echarts.4de0c91d.js","zrender.80041eb6.js"],import.meta.url)},{path:"detail",name:"Detail",component:()=>p(()=>import("./ProjectDetail.4b326dd8.js"),["ProjectDetail.4b326dd8.js","ProjectDetail.33f802e6.css","@vue.1f0a3c9a.js","vendor.4ad96017.js","ProjectCard.29b5e3a6.js","ProjectCard.d3fb5a10.css","echarts.4de0c91d.js","zrender.80041eb6.js"],import.meta.url),children:[{path:"project",component:()=>p(()=>import("./SingleProjectTemplate.bef915d7.js"),["SingleProjectTemplate.bef915d7.js","SingleProjectTemplate.482c2208.css","vendor.4ad96017.js","@vue.1f0a3c9a.js","getSeries.cdfa5ccf.js","getSeries.ae609f90.css","echarts.4de0c91d.js","zrender.80041eb6.js"],import.meta.url)},{path:"compare",component:()=>p(()=>import("./MultiProjectTemplates.cacc2c21.js"),["MultiProjectTemplates.cacc2c21.js","MultiProjectTemplates.bad1400e.css","vendor.4ad96017.js","@vue.1f0a3c9a.js","getSeries.cdfa5ccf.js","getSeries.ae609f90.css","echarts.4de0c91d.js","zrender.80041eb6.js"],import.meta.url)}]}]}]});function b(r,t){const o=new XMLHttpRequest;o.open("get",r),o.send(null),o.onload=()=>{o.status==200&&this.provide(t,JSON.parse(o.responseText))}}const m=P(J);b.apply(m,["@/../json/committee.json","committee"]);b.apply(m,["@/../json/projects_total.json","repo"]);b.apply(m,["@/../Qi/qi.json","qi"]);m.use(se);m.mount("#app");export{E as _};
